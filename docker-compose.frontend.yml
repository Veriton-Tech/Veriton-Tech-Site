services:
  atveriton-frontend:
    build: .
    image: atveriton-frontend:latest
    restart: always
    container_name: atveriton-frontend
    environment:
      - NODE_ENV=production
      - PORT=3000
    networks:
      - caddy_net

networks:
  # Join the existing Caddy/stack network so Caddy can reach this service by name.
  # Set CADDY_NETWORK_NAME to the actual network on your server, e.g. "hojaega_hojaega_net".
  # Example to discover it on server: `docker network ls | grep hojaega`.
  caddy_net:
    external: true
    name: ${CADDY_NETWORK_NAME:-hojaega-backend_hojaega_net}